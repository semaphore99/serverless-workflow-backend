<svg width="1320" height="900" viewBox="0 0 1320 900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Drop shadow filter -->
    <filter id="dropshadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="2" flood-color="#000000" flood-opacity="0.2"/>
    </filter>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
    
    <!-- Dashed arrow marker -->
    <marker id="dashedarrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#999" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1320" height="900" fill="#fafafa"/>
  
  <!-- Title -->
  <text x="650" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#333">
    Complete System Architecture - Serverless Workflow Platform
  </text>
  
  <!-- User Interface Layer -->
  <g>
    <rect x="550" y="40" width="200" height="40" rx="12" fill="#f8f9fa" stroke="#495057" stroke-width="3" filter="url(#dropshadow)"/>
    <text x="650" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">üë§ User Interface</text>
    <text x="650" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">Natural Language Input</text>
  </g>
  
  <!-- Frontend Application -->
  <g>
    <rect x="510" y="120" width="280" height="200" rx="12" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" filter="url(#dropshadow)"/>
    <text x="650" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">üåê Frontend Application</text>
    <text x="650" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#666">Web Interface - Next.js 15</text>
    <text x="650" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ Workflow DAG Visualizer</text>
    <text x="650" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ AI Chatbot Interface</text>
    <text x="650" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ ReactFlow Renderer</text>
    
    <!-- Frontend CNCF SDK -->
    <rect x="520" y="230" width="260" height="80" rx="8" fill="#e8f5e8" stroke="#388e3c" stroke-width="2" filter="url(#dropshadow)"/>
    <text x="650" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">üìã CNCF Serverless Workflow SDK</text>
    <text x="590" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ TypeScript Implementation</text>
    <text x="590" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ YAML Workflow Parsing</text>
    <text x="710" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ Client-side Validation</text>
    <text x="710" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ DAG Visualization Support</text>
  </g>
  
  <!-- Backend Services Container -->
  <g>
    <rect x="350" y="360" width="600" height="500" rx="12" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" filter="url(#dropshadow)"/>
    <text x="650" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">‚öôÔ∏è Backend Services</text>
    
    <!-- API Gateway (center-aligned) -->
    <rect x="525" y="410" width="250" height="100" rx="8" fill="#ffffff" stroke="#7b1fa2" stroke-width="1" filter="url(#dropshadow)"/>
    <text x="650" y="430" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">üîå API Gateway</text>
    <text x="650" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">HTTP API Server - Port :8088</text>
    <text x="650" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#888">‚Ä¢ REST Endpoints</text>
    <text x="650" y="475" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#888">‚Ä¢ Request Routing</text>
    <text x="650" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#888">‚Ä¢ Error Handling</text>
    
    
    
    <!-- Workflow Execution Platform (moved inside Backend Services) -->
    <rect x="380" y="540" width="540" height="180" rx="8" fill="#fff3e0" stroke="#f57c00" stroke-width="2" filter="url(#dropshadow)"/>
    <text x="650" y="560" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">üèóÔ∏è Workflow Execution Platform</text>
    
    <!-- Temporal Server -->
    <rect x="400" y="580" width="500" height="50" rx="6" fill="#ffffff" stroke="#f57c00" stroke-width="1" filter="url(#dropshadow)"/>
    <text x="650" y="595" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Temporal Server</text>
    <text x="650" y="610" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">‚Ä¢ Workflow Orchestration ‚Ä¢ State Persistence ‚Ä¢ Durable Execution ‚Ä¢ Activity Management</text>
    
    <!-- Temporal Workflows -->
    <rect x="400" y="650" width="240" height="60" rx="6" fill="#fff8dc" stroke="#daa520" stroke-width="1"/>
    <text x="520" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#333">ChatbotWorkflow</text>
    <text x="520" y="680" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">AI Conversation State ‚Ä¢ CNCF SDK Parsing</text>
    <text x="520" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Auto-validation and correction loop</text>
    <text x="520" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Validation &amp; Error Handling</text>
    
    <rect x="660" y="650" width="240" height="60" rx="6" fill="#fff8dc" stroke="#daa520" stroke-width="1"/>
    <text x="780" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#333">ExecuteServerlessWorkflow</text>
    <text x="780" y="680" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Dynamic Activity Execution ‚Ä¢ Fork/Switch/For Tasks</text>
    <text x="780" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">HTTP Call Activities ‚Ä¢ State Management</text>
    <text x="780" y="700" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Tree-based Task Execution</text>
  </g>
  
  <!-- DSL Workflow Spec (shared by both workflows) -->
  <g>
    <rect x="420" y="760" width="460" height="80" rx="8" fill="#e8f5e8" stroke="#388e3c" stroke-width="2" filter="url(#dropshadow)"/>
    <text x="650" y="785" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">üìã CNCF Serverless Workflow SDK</text>
    <text x="520" y="810" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ Parsing Workflow Definitions</text>
    <text x="520" y="825" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ Workflow Validation</text>
    <text x="780" y="810" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ Programmatic Workflow Creation</text>
    <text x="780" y="825" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ Execution Tree Generation</text>
  </g>
  
  
  <!-- AI Services (moved down to align with workflow execution) -->
  <g>
    <rect x="1000" y="540" width="280" height="120" rx="12" fill="#e0f7fa" stroke="#00acc1" stroke-width="2" filter="url(#dropshadow)"/>
    <text x="1140" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">ü§ñ AI Services</text>
    <text x="1140" y="585" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#666">Anthropic Claude 4 Sonnet</text>
    <text x="1140" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ Workflow Generation</text>
    <text x="1140" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ Code Validation</text>
    <text x="1140" y="630" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ Auto-Correction</text>
    <text x="1140" y="645" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ Natural Language Processing</text>
  </g>
  
  <!-- Third Party API Client Services (moved down and stacked below AI Services) -->
  <g>
    <rect x="1000" y="680" width="280" height="120" rx="12" fill="#fce4ec" stroke="#c2185b" stroke-width="2" filter="url(#dropshadow)"/>
    <text x="1140" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">üß™ Third Party API Client Services</text>
    <text x="1140" y="730" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ Testing Services</text>
    <text x="1140" y="750" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ Mock APIs</text>
    <text x="1140" y="770" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#888">‚Ä¢ UUID Response Tracking</text>
  </g>
  
  
  
  <!-- Connection Arrows -->
  
  <!-- User to Frontend -->
  <line x1="650" y1="80" x2="650" y2="120" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
  <text x="660" y="100" font-family="Arial, sans-serif" font-size="9" fill="#666">Natural Language Input</text>
  
  <!-- Frontend to Backend -->
  <line x1="650" y1="320" x2="650" y2="360" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="660" y="340" font-family="Arial, sans-serif" font-size="9" fill="#666">HTTP/WebSocket</text>
  
  
  <!-- Backend to Workflow Execution Platform -->
  <line x1="650" y1="510" x2="650" y2="540" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="660" y="525" font-family="Arial, sans-serif" font-size="9" fill="#666">Temporal Client</text>
  
  <!-- Temporal to AI Services -->
  <line x1="900" y1="600" x2="1000" y2="600" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="910" y="590" font-family="Arial, sans-serif" font-size="9" fill="#666">LLM Calling Activities</text>
  
  
  <!-- ChatbotWorkflow to DSL (for validation) -->
  <line x1="520" y1="710" x2="570" y2="760" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="510" y="735" font-family="Arial, sans-serif" font-size="9" fill="#666">Workflow definition parsing</text>
  
  <!-- ExecuteServerlessWorkflow to DSL -->
  <line x1="780" y1="710" x2="730" y2="760" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="770" y="730" font-family="Arial, sans-serif" font-size="9" fill="#666">Workflow definition parsing</text>
  <text x="770" y="740" font-family="Arial, sans-serif" font-size="9" fill="#666">and execution tree generation</text>
  
  <!-- Temporal to Third Party Services -->
  <line x1="900" y1="680" x2="1000" y2="740" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="910" y="710" font-family="Arial, sans-serif" font-size="9" fill="#666" transform="rotate(30 910 710)">HTTP Calling Activities</text>
  
  
  
</svg>